# ğŸ“ æ–‡ä»¶æ“ä½œç¤ºä¾‹

æœ¬ç¤ºä¾‹æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨ JSON åº“çš„åŒ…çº§åˆ«æ–‡ä»¶æ“ä½œæ–¹æ³•ï¼Œæ— éœ€åˆ›å»ºå¤„ç†å™¨å®ä¾‹å³å¯è¿›è¡Œæ–‡ä»¶è¯»å†™æ“ä½œã€‚

## ğŸš€ åŒ…çº§åˆ«æ–¹æ³• vs å¤„ç†å™¨æ–¹æ³•

### åŒ…çº§åˆ«æ–¹æ³•ï¼ˆæ¨èç”¨äºç®€å•æ“ä½œï¼‰
```go
// ç›´æ¥ä½¿ç”¨ï¼Œæ— éœ€åˆ›å»ºå¤„ç†å™¨
data, err := json.LoadFromFile("config.json")
err = json.SaveToFile("output.json", data, true)
```

### å¤„ç†å™¨æ–¹æ³•ï¼ˆç”¨äºéœ€è¦è‡ªå®šä¹‰é…ç½®çš„åœºæ™¯ï¼‰
```go
// éœ€è¦åˆ›å»ºå’Œç®¡ç†å¤„ç†å™¨
processor := json.New(json.DefaultConfig())
defer processor.Close()

data, err := processor.LoadFromFile("config.json")
err = processor.SaveToFile("output.json", data, true)
```

## ğŸ“‹ ç¤ºä¾‹å†…å®¹

### 1. åŸºç¡€æ–‡ä»¶æ“ä½œ
- **æ–‡ä»¶åŠ è½½**: ä½¿ç”¨ `json.LoadFromFile()` ä»æ–‡ä»¶åŠ è½½ JSON æ•°æ®
- **æ•°æ®ä¿®æ”¹**: ä½¿ç”¨ `json.Set()` å’Œ `json.SetWithAdd()` ä¿®æ”¹æ•°æ®
- **æ–‡ä»¶ä¿å­˜**: ä½¿ç”¨ `json.SaveToFile()` ä¿å­˜æ•°æ®åˆ°æ–‡ä»¶
- **æ ¼å¼é€‰æ‹©**: æ”¯æŒç¾åŒ–è¾“å‡ºå’Œå‹ç¼©è¾“å‡º

### 2. æµå¼æ“ä½œ
- **Reader åŠ è½½**: ä½¿ç”¨ `json.LoadFromReader()` ä» io.Reader åŠ è½½æ•°æ®
- **Writer ä¿å­˜**: ä½¿ç”¨ `json.SaveToWriter()` ä¿å­˜æ•°æ®åˆ° io.Writer
- **å†…å­˜ä¼˜åŒ–**: é€‚åˆå¤„ç†å¤§æ–‡ä»¶ï¼Œé¿å…ä¸€æ¬¡æ€§åŠ è½½åˆ°å†…å­˜

### 3. æ‰¹é‡æ–‡ä»¶å¤„ç†
- **å¤šæ–‡ä»¶åŠ è½½**: æ‰¹é‡å¤„ç†å¤šä¸ªé…ç½®æ–‡ä»¶
- **æ•°æ®åˆå¹¶**: å°†å¤šä¸ªæ–‡ä»¶çš„æ•°æ®åˆå¹¶ä¸ºä¸€ä¸ªé…ç½®
- **é”™è¯¯å¤„ç†**: å•ä¸ªæ–‡ä»¶å¤±è´¥ä¸å½±å“å…¶ä»–æ–‡ä»¶çš„å¤„ç†

### 4. å¸¦é€‰é¡¹çš„æ–‡ä»¶æ“ä½œ
- **ä¸¥æ ¼æ¨¡å¼**: ä½¿ç”¨ `ProcessorOptions` è¿›è¡Œä¸¥æ ¼éªŒè¯
- **çµæ´»æ¨¡å¼**: å…è®¸æ³¨é‡Šã€è‡ªåŠ¨åˆ›å»ºè·¯å¾„ç­‰
- **è‡ªå®šä¹‰é…ç½®**: æ ¹æ®éœ€æ±‚è°ƒæ•´å¤„ç†é€‰é¡¹

### 5. é”™è¯¯å¤„ç†
- **æ–‡ä»¶ä¸å­˜åœ¨**: å¤„ç†æ–‡ä»¶ä¸å­˜åœ¨çš„æƒ…å†µ
- **è·¯å¾„æ— æ•ˆ**: å¤„ç†æ— æ•ˆä¿å­˜è·¯å¾„
- **ä¼˜é›…é™çº§**: åŠ è½½å¤±è´¥æ—¶ä½¿ç”¨é»˜è®¤é…ç½®

## ğŸ”§ æ ¸å¿ƒæ–¹æ³•

### æ–‡ä»¶è¯»å–æ–¹æ³•

| æ–¹æ³• | ç­¾å | æè¿° |
|------|------|------|
| `LoadFromFile` | `LoadFromFile(filePath string, opts ...*ProcessorOptions) (any, error)` | ä»æ–‡ä»¶åŠ è½½ JSON æ•°æ® |
| `LoadFromReader` | `LoadFromReader(reader io.Reader, opts ...*ProcessorOptions) (any, error)` | ä» Reader åŠ è½½ JSON æ•°æ® |

### æ–‡ä»¶å†™å…¥æ–¹æ³•

| æ–¹æ³• | ç­¾å | æè¿° |
|------|------|------|
| `SaveToFile` | `SaveToFile(filePath string, data any, pretty bool, opts ...*ProcessorOptions) error` | ä¿å­˜æ•°æ®åˆ°æ–‡ä»¶ |
| `SaveToWriter` | `SaveToWriter(writer io.Writer, data any, pretty bool, opts ...*ProcessorOptions) error` | ä¿å­˜æ•°æ®åˆ° Writer |

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### é€‚åˆä½¿ç”¨åŒ…çº§åˆ«æ–¹æ³•çš„åœºæ™¯ï¼š
- âœ… ç®€å•çš„é…ç½®æ–‡ä»¶è¯»å†™
- âœ… ä¸€æ¬¡æ€§çš„æ–‡ä»¶å¤„ç†ä»»åŠ¡
- âœ… è„šæœ¬å’Œå·¥å…·å¼€å‘
- âœ… ä¸éœ€è¦ç‰¹æ®Šé…ç½®çš„åœºæ™¯

### é€‚åˆä½¿ç”¨å¤„ç†å™¨æ–¹æ³•çš„åœºæ™¯ï¼š
- ğŸ”§ éœ€è¦è‡ªå®šä¹‰ç¼“å­˜é…ç½®
- ğŸ”§ é«˜é¢‘ç‡çš„æ–‡ä»¶æ“ä½œ
- ğŸ”§ éœ€è¦ç‰¹æ®ŠéªŒè¯è§„åˆ™
- ğŸ”§ é•¿æœŸè¿è¡Œçš„æœåŠ¡

## ğŸš€ è¿è¡Œç¤ºä¾‹

```bash
# è¿›å…¥ç¤ºä¾‹ç›®å½•
cd examples/file_operations

# è¿è¡Œç¤ºä¾‹
go run example.go
```

## ğŸ“Š ç¤ºä¾‹è¾“å‡º

```
ğŸš€ JSON æ–‡ä»¶æ“ä½œç¤ºä¾‹
===================

ğŸ“ åŒ…çº§åˆ«æ–‡ä»¶æ“ä½œæ–¹æ³•æ¼”ç¤º
================================

1ï¸âƒ£ åŸºç¡€æ–‡ä»¶æ“ä½œ
---------------
ğŸ“– ä»æ–‡ä»¶åŠ è½½ JSON:
   æœåŠ¡å™¨é…ç½®: localhost:3000

ğŸ”§ ä¿®æ”¹é…ç½®:
   æ–°ç«¯å£: 8080
   SSL å¯ç”¨: true

ğŸ’¾ ä¿å­˜åˆ°æ–‡ä»¶:
   âœ… ç¾åŒ–ç‰ˆæœ¬å·²ä¿å­˜åˆ° config_updated.json
   âœ… å‹ç¼©ç‰ˆæœ¬å·²ä¿å­˜åˆ° config_compact.json

2ï¸âƒ£ æµå¼æ“ä½œ
------------
ğŸ“– ä» Reader åŠ è½½å¤§æ–‡ä»¶:
   åŠ è½½äº† 1000 æ¡è®°å½•

ğŸ’¾ ä¿å­˜åˆ° Writer:
   âœ… æ•°æ®å·²å†™å…¥ Bufferï¼Œå¤§å°: 31234 å­—èŠ‚
   âœ… å¤„ç†åçš„æ•°æ®å·²ä¿å­˜åˆ° processed_data.json

3ï¸âƒ£ æ‰¹é‡æ–‡ä»¶å¤„ç†
---------------
ğŸ“ æ‰¹é‡å¤„ç†é…ç½®æ–‡ä»¶:
   å¤„ç†æ–‡ä»¶: config.json
   âœ… config.json åŠ è½½æˆåŠŸ
   å¤„ç†æ–‡ä»¶: users.json
   âœ… users.json åŠ è½½æˆåŠŸ

ğŸ’¾ ä¿å­˜åˆå¹¶é…ç½®:
   âœ… åˆå¹¶é…ç½®å·²ä¿å­˜åˆ° merged_config.json
   ğŸ“Š åˆå¹¶äº† 2 ä¸ªé…ç½®æ–‡ä»¶

4ï¸âƒ£ å¸¦é€‰é¡¹çš„æ–‡ä»¶æ“ä½œ
------------------
ğŸ”’ ä¸¥æ ¼æ¨¡å¼åŠ è½½:
   âœ… ä¸¥æ ¼æ¨¡å¼åŠ è½½æˆåŠŸ

ğŸ”“ çµæ´»æ¨¡å¼åŠ è½½:
   âœ… çµæ´»æ¨¡å¼åŠ è½½æˆåŠŸ
   ä¸¥æ ¼æ¨¡å¼ç»“æœ: localhost
   çµæ´»æ¨¡å¼ç»“æœ: localhost

5ï¸âƒ£ é”™è¯¯å¤„ç†ç¤ºä¾‹
---------------
âŒ åŠ è½½ä¸å­˜åœ¨çš„æ–‡ä»¶:
   é¢„æœŸé”™è¯¯: failed to read file nonexistent.json: open nonexistent.json: no such file or directory

âŒ ä¿å­˜åˆ°æ— æ•ˆè·¯å¾„:
   é¢„æœŸé”™è¯¯: failed to write file /invalid/path/file.json: open /invalid/path/file.json: no such file or directory

âœ… æ­£ç¡®çš„é”™è¯¯å¤„ç†:
   æœåŠ¡å™¨ä¸»æœº: localhost

ğŸ§¹ æ¸…ç†ç¤ºä¾‹æ–‡ä»¶
---------------
   âœ… å·²åˆ é™¤: config.json
   âœ… å·²åˆ é™¤: users.json
   âœ… å·²åˆ é™¤: large_data.json
   âœ… å·²åˆ é™¤: config_updated.json
   âœ… å·²åˆ é™¤: config_compact.json
   âœ… å·²åˆ é™¤: processed_data.json
   âœ… å·²åˆ é™¤: merged_config.json
```

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. é€‰æ‹©åˆé€‚çš„æ–¹æ³•
```go
// âœ… ç®€å•åœºæ™¯ä½¿ç”¨åŒ…çº§åˆ«æ–¹æ³•
data, err := json.LoadFromFile("config.json")

// âœ… å¤æ‚åœºæ™¯ä½¿ç”¨å¤„ç†å™¨
processor := json.New(&json.Config{
    EnableCache: true,
    MaxJSONSize: 100 * 1024 * 1024,
})
defer processor.Close()
data, err := processor.LoadFromFile("config.json")
```

### 2. é”™è¯¯å¤„ç†
```go
// âœ… æ€»æ˜¯æ£€æŸ¥é”™è¯¯
data, err := json.LoadFromFile("config.json")
if err != nil {
    // å¤„ç†é”™è¯¯æˆ–ä½¿ç”¨é»˜è®¤å€¼
    log.Printf("åŠ è½½é…ç½®å¤±è´¥: %v", err)
    data = getDefaultConfig()
}
```

### 3. æ–‡ä»¶æ ¼å¼é€‰æ‹©
```go
// âœ… å¼€å‘ç¯å¢ƒä½¿ç”¨ç¾åŒ–æ ¼å¼
err = json.SaveToFile("config.json", data, true)

// âœ… ç”Ÿäº§ç¯å¢ƒä½¿ç”¨å‹ç¼©æ ¼å¼
err = json.SaveToFile("config.json", data, false)
```

### 4. å¤§æ–‡ä»¶å¤„ç†
```go
// âœ… å¤§æ–‡ä»¶ä½¿ç”¨æµå¼æ“ä½œ
file, err := os.Open("large_data.json")
if err != nil {
    return err
}
defer file.Close()

data, err := json.LoadFromReader(file)
```

## ğŸ”— ç›¸å…³ç¤ºä¾‹

- [åŸºç¡€æ“ä½œç¤ºä¾‹](../basic_operations/) - JSON æ•°æ®çš„åŸºç¡€è¯»å†™æ“ä½œ
- [è·¯å¾„æ“ä½œç¤ºä¾‹](../path_operations/) - å¤æ‚è·¯å¾„è¡¨è¾¾å¼çš„ä½¿ç”¨
- [é…ç½®ç®¡ç†ç¤ºä¾‹](../configuration/) - å¤„ç†å™¨é…ç½®å’Œé€‰é¡¹
- [æ€§èƒ½ä¼˜åŒ–ç¤ºä¾‹](../performance/) - é«˜æ€§èƒ½ JSON å¤„ç†æŠ€å·§
